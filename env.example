# ===================================================================
#  Bella's Reef - Unified Configuration (.env.example)
# ===================================================================
# This file lives at the project root.
# Copy to .env and fill in your values for local development.

# --- Database & Security (Shared by All Services) ---
# NEW Keys and Tokens can be generate with: openssl rand -hex 32
DATABASE_URL=postgresql://postgres:postgres@localhost/bellasreef
SECRET_KEY=f6b986c581fa6f341667a5552ba935baa47bc693f4a47927db4cf93c6e6dff3e
SERVICE_TOKEN=d2263c2b4c5dfcbbca32181aa7963322e8a4c6c973b5e61beadbd4d90fa2698f
ENCRYPTION_KEY=71adbd373ea4ebb8f72191ac7169bebe6855203894c3902c149f46016adb322a
ACCESS_TOKEN_EXPIRE_MINUTES=60

# --- General Service Settings ---
# CORS Host is a JSON array or comma-separated
SERVICE_HOST=0.0.0.0
DEBUG=false
LOG_LEVEL=INFO
ALLOWED_HOSTS=["*"] 

# --- Admin User Configuration ---
ADMIN_USERNAME=bellas
ADMIN_PASSWORD=reefrocks
ADMIN_EMAIL=bellas@reef.example

# --- Core Service ---
CORE_ENABLED=true
SERVICE_PORT_CORE=8000
CORE_LOG_LEVEL=INFO
CORE_RELOAD=true
CORE_WORKERS=1

# --- HAL Service (Hardware) ---
HAL_ENABLED=true
SERVICE_PORT_HAL=8003
RPI_PLATFORM=none
PWM_GPIO_PINS=
PWM_FREQUENCY=1000
PWM_CHANNELS=16
PCA9685_ENABLED=false
PCA9685_ADDRESS=0x40
PCA9685_FREQUENCY=1000

# --- Lighting Engine Settings ---
# LIGHTING_DEFAULT_TIMEZONE: Set to a valid timezone string (e.g., 'PST', 'America/Los_Angeles')
# LIGHTING_WEATHER_API_KEY: Set to your API key for the weather service (e.g., OpenWeatherMap)
LIGHTING_API_ENABLED=true
LIGHTING_API_HOST=0.0.0.0
LIGHTING_API_PORT=8001
LIGHTING_API_LOG_LEVEL=info
LIGHTING_API_DEBUG=false
LIGHTING_DEFAULT_TIMEZONE=America/Los_Angeles
LIGHTING_WEATHER_API_KEY=changeme

# --- SmartOutlets Service ---
# Note: Shelly driver is untested
SMART_OUTLETS_ENABLED=true
SERVICE_PORT_SMARTOUTLETS=8005
SMART_OUTLETS_KASA_ENABLED=true
SMART_OUTLETS_SHELLY_ENABLED=false
SMART_OUTLETS_VESYNC_ENABLED=true
VESYNC_EMAIL=
VESYNC_PASSWORD=
VESYNC_TZ=America/Los_Angeles
OUTLET_TIMEOUT_SECONDS=5
OUTLET_MAX_RETRIES=3

# --- Telemetry Service ---
# This includes the API, the Polling Worker, and the Aggregator Worker
# Note: Worker intervals are set via command-line args in their start scripts
TELEMETRY_ENABLED=true
SERVICE_PORT_TELEMETRY=8006

# --- Temperature Service ---
TEMP_ENABLED=true
SERVICE_PORT_TEMP=8004
SENSOR_POLL_INTERVAL=30
W1_GPIO_PIN=4