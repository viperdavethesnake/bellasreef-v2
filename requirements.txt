# Bella's Reef - Unified Project Dependencies (v7)
# This is the single source of truth for all Python packages.
# Versions for critical hardware libraries are pinned to ensure stable, reproducible builds.

# --- Core FastAPI & Web ---
fastapi==0.111.0
uvicorn[standard]
python-multipart
pydantic>=2.5.0
pydantic-settings

# --- Database ---
sqlalchemy
asyncpg
psycopg2-binary

# --- Security & Auth (Pinned versions to fix compatibility issue) ---
bcrypt==4.0.1
passlib==1.7.4
python-jose[cryptography]
cryptography>=41.0.0
email-validator

# --- Hardware & Drivers (Platform Specific) ---
# The following libraries will ONLY be installed on Linux systems (like Raspberry Pi)
# Versions are pinned to the last known-good configuration from testing.
RPi.GPIO==0.7.1 ; sys_platform == 'linux'
Adafruit-Blinka==8.61.2 ; sys_platform == 'linux'
adafruit-circuitpython-pca9685==3.4.19 ; sys_platform == 'linux'
w1thermsensor[async]==2.3.0 ; sys_platform == 'linux'
psutil ; sys_platform == 'linux'

# --- Smart Outlet Drivers (Cross-Platform) ---
python-kasa==0.7.1
aioshelly==13.7.0
pyvesync==2.1.18

# --- General Utilities ---
aiohttp
pytz
httpx>=0.25.0
tenacity

# --- Worker/Scheduler (Future Use) ---
apscheduler==3.10.4
celery==5.4.0